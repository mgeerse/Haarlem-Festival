@model List<HaarlemFestival_Web.Models.Ticket>
@{
    ViewBag.Title = "Order Tickets";
    Layout = "~/Views/Shared/Pages/_Layout.cshtml";
}

<h2>Your tickets - overview</h2>


@if (Model.Count != 0)
{


    <table class="table-primary" style="width:100%">
        <tr class="table-responsive-md">
            <th>Event</th>
            <th>Price</th>
            <th>Amount</th>
            <th>Date</th>
            <th>Time</th>
            <th>Location</th>
        </tr>

        @foreach (var item in Model)
        {
            using (Html.BeginForm("EditTicket", "Ticket", FormMethod.Post, new { TicketId = Html.Value("Id"), Option = Html.Value("submit"), Amount = Html.Value("amount") }))
            {

                <tr>
                    <td hidden="hidden"><input hidden="hidden" name="Id" value="@item.Id" /></td>
                    <td><input type="number" name="amount" value="@item.Amount" /></td>
                    <td>@item.Price</td>
                    <td>@item.Amount</td>
                    <td>@item.Activity.StartTime.ToShortDateString()</td>
                    <td>@item.Activity.StartTime.ToShortTimeString() - @item.Activity.EndTime.ToShortTimeString()</td>
                    <td>@item.Id</td>
                    <td><input class="btn-warning" name="submit" value="Update Amount" type="submit" /></td>
                    <td><input class="btn-warning" name="submit" value="Remove Ticket" type="submit" /></td>
                </tr>
            }
        }


    </table>
}
else
{
    <br />
    <h3 class="alert-warning">No tickets ordered</h3>

    <a href="~/Ticket/" class="alert-info">Order tickets here</a>
}
